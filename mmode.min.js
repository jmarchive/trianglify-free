var resbox=document.getElementById("result");document.getElementById("seed").value=(new Date).getTime();var variance=.75,pattern=trianglify({width:document.getElementById("width").value,height:document.getElementById("height").value,cellSize:document.getElementById("cellsize").value,variance:variance,seed:document.getElementById("seed").value,xColors:"random",yColors:"match",colorFunction:trianglify.colorFunctions.interpolateLinear(.5),strokeWidth:0,points:null});function update(){pattern=trianglify({width:document.getElementById("width").value,height:document.getElementById("height").value,cellSize:document.getElementById("cellsize").value,variance:variance,seed:document.getElementById("seed").value,xColors:"random",yColors:"match",colorFunction:trianglify.colorFunctions.interpolateLinear(.5),strokeWidth:0,points:null}),resbox.appendChild(pattern.toCanvas()),resbox.removeChild(resbox.childNodes[0])}function dl(){var e=document.createElement("a");e.download="trianglify-free",e.href=resbox.childNodes[0].toDataURL("image/png"),document.body.appendChild(e),e.click(),e.remove()}function svg(e){var t=document.createElement("svg");t.hidden=!0,pattern.toSVG(t);var n=document.createElement("a");n.download="trianglify-free.svg",n.href=e?"data:text/plain;charset=utf-8,<svg xmlns='http://www.w3.org/2000/svg' width='"+document.getElementById("width").value+"' height='"+document.getElementById("height").value+"'>"+t.innerHTML+"</svg>":"data:text/plain;charset=utf-8,<svg xmlns='http://www.w3.org/2000/svg'>"+t.innerHTML+"</svg>",document.body.appendChild(n),n.click(),n.remove()}function variancerange(){variance=document.getElementById("variance").value,document.getElementById("variance-text").value=document.getElementById("variance").value,update()}function variancetext(){document.getElementById("variance-text").value>2?document.getElementById("variance").value=2:0==document.getElementById("variance-text").value?document.getElementById("variance").value=0:document.getElementById("variance").value=document.getElementById("variance-text").value,variance=document.getElementById("variance-text").value,update()}function seedupdate(){document.getElementById("seed").value=(new Date).getTime(),update()}function csupdate(){if(document.getElementById("cellsize").value<=20){var e=prompt("WARNING: A small cell size (<20) will probably cause a crash, and the generated photo will have almost no triangle visible. Do you really want this?\r\nPlease enter the value you want below.");document.getElementById("cellsize").value=e}update()}resbox.appendChild(pattern.toCanvas());